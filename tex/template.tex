\documentclass{article}

\usepackage{courier} % font for listings
\usepackage{listings}
\lstset{ basicstyle=\ttfamily
       , language=C
       , showstringspaces=false % otherwise you'll get ugly space markers
}

\title{TeX Template}
\author{Erik Vesterlund} % TODO: email
%\date{} % uncomment to remove date

\begin{document}
\maketitle

\newpage

\tableofcontents

\newpage

\begin{abstract}
This is the abstract.
\end{abstract}

\newpage

\section{First section}

Include code from file:
\newline
\lstinputlisting{listings_demo.c}

Write some code directly in tex, as seen in \ref{someccode}:
\newline
\begin{lstlisting}[caption={This is a caption}, label=someccode]
#include<stdio.h>

void main() {
    printf("Then it looks like this.\n");
}
\end{lstlisting}

\end{document}
